<!DOCTYPE html>

<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TaroAI</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

```
    body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
        color: white;
        min-height: 100vh;
        padding: 20px;
    }
    
    .container {
        max-width: 600px;
        margin: 0 auto;
    }
    
    .header {
        text-align: center;
        margin-bottom: 30px;
        animation: fadeIn 0.6s;
    }
    
    .logo {
        font-size: 80px;
        margin-bottom: 10px;
        animation: float 3s ease-in-out infinite;
    }
    
    @keyframes float {
        0%, 100% { transform: translateY(0px); }
        50% { transform: translateY(-10px); }
    }
    
    .title {
        font-size: 48px;
        font-weight: bold;
        background: linear-gradient(45deg, #ffd89b, #19547b);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        margin-bottom: 5px;
    }
    
    .subtitle {
        color: rgba(255,255,255,0.9);
        font-size: 16px;
    }
    
    .card {
        background: rgba(255,255,255,0.15);
        backdrop-filter: blur(10px);
        border-radius: 25px;
        padding: 25px;
        margin: 15px 0;
        box-shadow: 0 8px 32px rgba(0,0,0,0.1);
        animation: slideUp 0.4s;
    }
    
    @keyframes slideUp {
        from { opacity: 0; transform: translateY(20px); }
        to { opacity: 1; transform: translateY(0); }
    }
    
    @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
    }
    
    h2 {
        margin-bottom: 20px;
        font-size: 22px;
    }
    
    .spread-btn {
        width: 100%;
        padding: 18px;
        margin: 12px 0;
        background: linear-gradient(135deg, rgba(138,43,226,0.3), rgba(255,105,180,0.3));
        border: none;
        border-radius: 20px;
        color: white;
        font-size: 16px;
        cursor: pointer;
        transition: all 0.3s;
        display: flex;
        align-items: center;
        justify-content: space-between;
        text-align: left;
    }
    
    .spread-btn:hover, .spread-btn:active {
        background: linear-gradient(135deg, rgba(138,43,226,0.5), rgba(255,105,180,0.5));
        transform: scale(1.03);
    }
    
    .spread-info {
        flex: 1;
    }
    
    .spread-name {
        font-weight: 600;
        margin-bottom: 4px;
    }
    
    .spread-desc {
        font-size: 13px;
        opacity: 0.8;
    }
    
    .spread-count {
        font-size: 24px;
        color: #ffd700;
    }
    
    .primary-btn {
        width: 100%;
        padding: 16px;
        background: linear-gradient(135deg, #ffd89b, #f093fb);
        border: none;
        border-radius: 20px;
        color: #333;
        font-size: 18px;
        font-weight: bold;
        cursor: pointer;
        transition: all 0.3s;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
    }
    
    .primary-btn:hover, .primary-btn:active {
        transform: scale(1.05);
        box-shadow: 0 8px 24px rgba(0,0,0,0.2);
    }
    
    .back-btn {
        background: none;
        border: none;
        color: rgba(255,255,255,0.8);
        font-size: 16px;
        cursor: pointer;
        margin-bottom: 20px;
        padding: 10px 0;
    }
    
    .back-btn:hover {
        color: white;
    }
    
    input, textarea {
        width: 100%;
        padding: 14px;
        margin: 10px 0 20px 0;
        background: rgba(255,255,255,0.1);
        border: 1px solid rgba(255,255,255,0.3);
        border-radius: 15px;
        color: white;
        font-size: 16px;
        font-family: inherit;
    }
    
    input::placeholder, textarea::placeholder {
        color: rgba(255,255,255,0.5);
    }
    
    input:focus, textarea:focus {
        outline: none;
        border-color: rgba(255,255,255,0.5);
        background: rgba(255,255,255,0.15);
    }
    
    .card-display {
        text-align: center;
        margin: 25px 0;
    }
    
    .tarot-card {
        display: inline-block;
        width: 110px;
        height: 160px;
        background: rgba(255,255,255,0.1);
        border-radius: 15px;
        margin: 8px;
        font-size: 70px;
        line-height: 160px;
        transition: all 0.5s;
        animation: cardPulse 1.5s infinite;
    }
    
    .tarot-card.drawn {
        background: linear-gradient(135deg, #ffd89b, #f093fb);
        animation: cardAppear 0.5s;
        transform: scale(1);
    }
    
    @keyframes cardPulse {
        0%, 100% { opacity: 0.3; transform: scale(0.95); }
        50% { opacity: 0.7; transform: scale(1); }
    }
    
    @keyframes cardAppear {
        0% { opacity: 0; transform: scale(0.5) rotateY(180deg); }
        100% { opacity: 1; transform: scale(1) rotateY(0deg); }
    }
    
    .card-info {
        margin: 15px 0;
        padding: 15px;
        background: rgba(255,255,255,0.1);
        border-radius: 15px;
    }
    
    .card-name {
        font-size: 20px;
        font-weight: 600;
        color: #ffd700;
        margin-bottom: 5px;
    }
    
    .card-keywords {
        font-size: 14px;
        opacity: 0.9;
    }
    
    .interpretation {
        line-height: 1.7;
        font-size: 15px;
    }
    
    .interpretation p {
        margin-bottom: 15px;
    }
    
    .loading {
        text-align: center;
        padding: 40px;
    }
    
    .spinner {
        font-size: 60px;
        animation: spin 2s linear infinite;
        display: inline-block;
    }
    
    @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
    }
    
    .hidden {
        display: none;
    }
    
    .nav-buttons {
        display: flex;
        gap: 12px;
        margin-top: 20px;
    }
    
    .nav-btn {
        flex: 1;
        padding: 16px;
        background: rgba(255,255,255,0.1);
        border: none;
        border-radius: 20px;
        color: white;
        cursor: pointer;
        transition: all 0.3s;
        font-size: 15px;
    }
    
    .nav-btn:hover, .nav-btn:active {
        background: rgba(255,255,255,0.2);
        transform: scale(1.03);
    }
    
    .history-item, .learn-item {
        background: rgba(255,255,255,0.1);
        border-radius: 20px;
        padding: 18px;
        margin-bottom: 12px;
    }
    
    .history-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 10px;
    }
    
    .history-spread {
        font-weight: 600;
        font-size: 16px;
    }
    
    .history-date {
        font-size: 13px;
        opacity: 0.7;
    }
    
    .history-cards {
        font-size: 32px;
        margin: 12px 0;
        letter-spacing: 5px;
    }
    
    .history-question {
        font-size: 14px;
        font-style: italic;
        opacity: 0.8;
        margin-top: 8px;
    }
    
    .learn-item {
        display: flex;
        align-items: center;
        gap: 15px;
    }
    
    .learn-emoji {
        font-size: 50px;
        min-width: 60px;
        text-align: center;
    }
    
    .learn-info {
        flex: 1;
    }
    
    .learn-name {
        font-weight: 600;
        font-size: 17px;
        margin-bottom: 5px;
    }
    
    .learn-keywords {
        font-size: 14px;
        opacity: 0.85;
    }
    
    .empty-state {
        text-align: center;
        padding: 50px 20px;
    }
    
    .empty-state-icon {
        font-size: 70px;
        margin-bottom: 15px;
        opacity: 0.7;
    }
    
    .empty-state-text {
        opacity: 0.8;
        font-size: 15px;
    }
    
    label {
        display: block;
        margin-bottom: 8px;
        font-size: 14px;
        opacity: 0.9;
    }
</style>
```

</head>
<body>
    <!-- –ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω -->
    <div id="home-screen">
        <div class="container">
            <div class="header">
                <div class="logo">üîÆ</div>
                <div class="title">TaroAI</div>
                <div class="subtitle">–ú–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ —Ä–∞—Å–∫–ª–∞–¥—ã —Å AI</div>
            </div>

```
        <div class="card">
            <h2>‚ú® –í—ã–±–µ—Ä–∏—Ç–µ —Ä–∞—Å–∫–ª–∞–¥</h2>
            <button class="spread-btn" onclick="selectSpread('daily', 1, '–ö–∞—Ä—Ç–∞ –¥–Ω—è', '–≠–Ω–µ—Ä–≥–∏—è —Å–µ–≥–æ–¥–Ω—è—à–Ω–µ–≥–æ –¥–Ω—è')">
                <div class="spread-info">
                    <div class="spread-name">üåô –ö–∞—Ä—Ç–∞ –¥–Ω—è</div>
                    <div class="spread-desc">–≠–Ω–µ—Ä–≥–∏—è —Å–µ–≥–æ–¥–Ω—è—à–Ω–µ–≥–æ –¥–Ω—è</div>
                </div>
                <div class="spread-count">1 üÉè</div>
            </button>
            
            <button class="spread-btn" onclick="selectSpread('three', 3, '–¢—Ä–∏ –∫–∞—Ä—Ç—ã', '–ü—Ä–æ—à–ª–æ–µ, –Ω–∞—Å—Ç–æ—è—â–µ–µ, –±—É–¥—É—â–µ–µ')">
                <div class="spread-info">
                    <div class="spread-name">‚≠ê –¢—Ä–∏ –∫–∞—Ä—Ç—ã</div>
                    <div class="spread-desc">–ü—Ä–æ—à–ª–æ–µ, –Ω–∞—Å—Ç–æ—è—â–µ–µ, –±—É–¥—É—â–µ–µ</div>
                </div>
                <div class="spread-count">3 üÉè</div>
            </button>
            
            <button class="spread-btn" onclick="selectSpread('love', 3, '–õ—é–±–æ–≤—å', '–û—Ç–Ω–æ—à–µ–Ω–∏—è –∏ —á—É–≤—Å—Ç–≤–∞')">
                <div class="spread-info">
                    <div class="spread-name">üíï –õ—é–±–æ–≤—å</div>
                    <div class="spread-desc">–û—Ç–Ω–æ—à–µ–Ω–∏—è –∏ —á—É–≤—Å—Ç–≤–∞</div>
                </div>
                <div class="spread-count">3 üÉè</div>
            </button>
            
            <button class="spread-btn" onclick="selectSpread('career', 3, '–ö–∞—Ä—å–µ—Ä–∞', '–†–∞–±–æ—Ç–∞ –∏ –ø—Ä–æ—Ñ–µ—Å—Å–∏—è')">
                <div class="spread-info">
                    <div class="spread-name">üíº –ö–∞—Ä—å–µ—Ä–∞</div>
                    <div class="spread-desc">–†–∞–±–æ—Ç–∞ –∏ –ø—Ä–æ—Ñ–µ—Å—Å–∏—è</div>
                </div>
                <div class="spread-count">3 üÉè</div>
            </button>
            
            <button class="spread-btn" onclick="selectSpread('finance', 3, '–§–∏–Ω–∞–Ω—Å—ã', '–î–µ–Ω–µ–∂–Ω–∞—è —Å–∏—Ç—É–∞—Ü–∏—è')">
                <div class="spread-info">
                    <div class="spread-name">üí∞ –§–∏–Ω–∞–Ω—Å—ã</div>
                    <div class="spread-desc">–î–µ–Ω–µ–∂–Ω–∞—è —Å–∏—Ç—É–∞—Ü–∏—è</div>
                </div>
                <div class="spread-count">3 üÉè</div>
            </button>
        </div>
        
        <div class="nav-buttons">
            <button class="nav-btn" onclick="showHistory()">üìú –ò—Å—Ç–æ—Ä–∏—è</button>
            <button class="nav-btn" onclick="showLearn()">üìñ –û–±—É—á–µ–Ω–∏–µ</button>
        </div>
    </div>
</div>

<!-- –≠–∫—Ä–∞–Ω –≤–æ–ø—Ä–æ—Å–∞ -->
<div id="question-screen" class="hidden">
    <div class="container">
        <button class="back-btn" onclick="goHome()">‚Üê –ù–∞–∑–∞–¥</button>
        
        <div class="card">
            <h2 id="spread-title">–†–∞—Å–∫–ª–∞–¥</h2>
            <p id="spread-description" style="opacity: 0.9; margin-bottom: 25px;"></p>
            
            <label>–í–∞—à –≤–æ–ø—Ä–æ—Å (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)</label>
            <input type="text" id="question-input" placeholder="–û —á–µ–º —Ö–æ—Ç–∏—Ç–µ —É–∑–Ω–∞—Ç—å?">
            
            <button class="primary-btn" onclick="startDrawing()">
                ‚ú® –í—ã—Ç—è–Ω—É—Ç—å –∫–∞—Ä—Ç—ã
            </button>
        </div>
    </div>
</div>

<!-- –≠–∫—Ä–∞–Ω —Å –∫–∞—Ä—Ç–∞–º–∏ -->
<div id="cards-screen" class="hidden">
    <div class="container">
        <button class="back-btn" onclick="newReading()">‚Üê –ù–æ–≤—ã–π —Ä–∞—Å–∫–ª–∞–¥</button>
        
        <h2 style="text-align: center; font-size: 24px; margin-bottom: 20px;" id="result-title">–í–∞—à–∏ –∫–∞—Ä—Ç—ã</h2>
        
        <div class="card-display" id="cards-container"></div>
        
        <div id="cards-info"></div>
        
        <div id="interpretation-container"></div>
    </div>
</div>

<!-- –≠–∫—Ä–∞–Ω –∏—Å—Ç–æ—Ä–∏–∏ -->
<div id="history-screen" class="hidden">
    <div class="container">
        <button class="back-btn" onclick="goHome()">‚Üê –ù–∞–∑–∞–¥</button>
        
        <h2 style="font-size: 26px; margin-bottom: 20px;">üìú –ò—Å—Ç–æ—Ä–∏—è —Ä–∞—Å–∫–ª–∞–¥–æ–≤</h2>
        
        <div id="history-list"></div>
    </div>
</div>

<!-- –≠–∫—Ä–∞–Ω –æ–±—É—á–µ–Ω–∏—è -->
<div id="learn-screen" class="hidden">
    <div class="container">
        <button class="back-btn" onclick="goHome()">‚Üê –ù–∞–∑–∞–¥</button>
        
        <h2 style="font-size: 26px; margin-bottom: 20px;">üìñ –°—Ç–∞—Ä—à–∏–µ –ê—Ä–∫–∞–Ω—ã</h2>
        
        <div id="learn-list"></div>
    </div>
</div>

<script>
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram WebApp
    if (window.Telegram && window.Telegram.WebApp) {
        const tg = window.Telegram.WebApp;
        tg.ready();
        tg.expand();
        tg.enableClosingConfirmation();
    }

    // –î–∞–Ω–Ω—ã–µ - –ø–æ–ª–Ω–∞—è –∫–æ–ª–æ–¥–∞ –∏–∑ 22 —Å—Ç–∞—Ä—à–∏—Ö –∞—Ä–∫–∞–Ω–æ–≤
    const tarotCards = [
        { id: 0, name: '–®—É—Ç', emoji: 'üÉè', keywords: '–Ω–æ–≤–æ–µ –Ω–∞—á–∞–ª–æ, —Å–ø–æ–Ω—Ç–∞–Ω–Ω–æ—Å—Ç—å, —Å–≤–æ–±–æ–¥–∞', meaning: '–í—Ä–µ–º—è —Ä–∏—Å–∫–æ–≤–∞—Ç—å –∏ –±—ã—Ç—å –æ—Ç–∫—Ä—ã—Ç—ã–º –Ω–æ–≤–æ–º—É –æ–ø—ã—Ç—É. –®—É—Ç –ø—Ä–∏–∑—ã–≤–∞–µ—Ç –æ—Ç–ø—É—Å—Ç–∏—Ç—å —Å—Ç—Ä–∞—Ö–∏ –∏ –¥–æ–≤–µ—Ä–∏—Ç—å—Å—è –∂–∏–∑–Ω–∏.' },
        { id: 1, name: '–ú–∞–≥', emoji: 'üé©', keywords: '–º–∞—Å—Ç–µ—Ä—Å—Ç–≤–æ, —Å–∏–ª–∞ –≤–æ–ª–∏, –¥–µ–π—Å—Ç–≤–∏–µ', meaning: '–£ –≤–∞—Å –µ—Å—Ç—å –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ –¥–ª—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è —Ü–µ–ª–∏. –ü—Ä–æ—è–≤–∏—Ç–µ –∏–Ω–∏—Ü–∏–∞—Ç–∏–≤—É –∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–≤–æ–∏ —Ç–∞–ª–∞–Ω—Ç—ã.' },
        { id: 2, name: '–í–µ—Ä—Ö–æ–≤–Ω–∞—è –ñ—Ä–∏—Ü–∞', emoji: 'üîÆ', keywords: '–∏–Ω—Ç—É–∏—Ü–∏—è, —Ç–∞–π–Ω–∞, –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –≥–æ–ª–æ—Å', meaning: '–ü—Ä–∏—Å–ª—É—à–∞–π—Ç–µ—Å—å –∫ —Å–≤–æ–µ–π –∏–Ω—Ç—É–∏—Ü–∏–∏, –æ—Ç–≤–µ—Ç—ã –≤–Ω—É—Ç—Ä–∏ –≤–∞—Å. –î–æ–≤–µ—Ä—å—Ç–µ—Å—å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–º—É –∑–Ω–∞–Ω–∏—é.' },
        { id: 3, name: '–ò–º–ø–µ—Ä–∞—Ç—Ä–∏—Ü–∞', emoji: 'üëë', keywords: '–∏–∑–æ–±–∏–ª–∏–µ, –º–∞—Ç–µ—Ä–∏–Ω—Å—Ç–≤–æ, —Ç–≤–æ—Ä—á–µ—Å—Ç–≤–æ', meaning: '–ü–µ—Ä–∏–æ–¥ –∏–∑–æ–±–∏–ª–∏—è –∏ —Ä–æ—Å—Ç–∞. –ó–∞–±–æ—Ç—å—Ç–µ—Å—å –æ —Å–µ–±–µ –∏ —Ç–≤–æ—Ä–∏—Ç–µ –∫—Ä–∞—Å–æ—Ç—É –≤–æ–∫—Ä—É–≥.' },
        { id: 4, name: '–ò–º–ø–µ—Ä–∞—Ç–æ—Ä', emoji: 'üèõÔ∏è', keywords: '–∞–≤—Ç–æ—Ä–∏—Ç–µ—Ç, —Å—Ç—Ä—É–∫—Ç—É—Ä–∞, –∫–æ–Ω—Ç—Ä–æ–ª—å', meaning: '–ù—É–∂–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ –¥–∏—Å—Ü–∏–ø–ª–∏–Ω–∞ –≤ –¥–µ–π—Å—Ç–≤–∏—è—Ö. –í–æ–∑—å–º–∏—Ç–µ —Å–∏—Ç—É–∞—Ü–∏—é –ø–æ–¥ –∫–æ–Ω—Ç—Ä–æ–ª—å.' },
        { id: 5, name: '–ò–µ—Ä–æ—Ñ–∞–Ω—Ç', emoji: '‚õ™', keywords: '—Ç—Ä–∞–¥–∏—Ü–∏–∏, –∑–Ω–∞–Ω–∏–µ, –Ω–∞—Å—Ç–∞–≤–Ω–∏—á–µ—Å—Ç–≤–æ', meaning: '–û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–º –º–µ—Ç–æ–¥–∞–º –∏ –º—É–¥—Ä–æ—Å—Ç–∏. –í–æ–∑–º–æ–∂–Ω–æ, —Å—Ç–æ–∏—Ç –Ω–∞–π—Ç–∏ –Ω–∞—Å—Ç–∞–≤–Ω–∏–∫–∞.' },
        { id: 6, name: '–í–ª—é–±–ª–µ–Ω–Ω—ã–µ', emoji: 'üíë', keywords: '–ª—é–±–æ–≤—å, –≤—ã–±–æ—Ä, –≥–∞—Ä–º–æ–Ω–∏—è', meaning: '–í–∞–∂–Ω—ã–π –≤—ã–±–æ—Ä –ø–µ—Ä–µ–¥ –≤–∞–º–∏. –°–ª–µ–¥—É–π—Ç–µ –∑–æ–≤—É —Å–µ—Ä–¥—Ü–∞ –∏ —Å—Ç—Ä–µ–º–∏—Ç–µ—Å—å –∫ –≥–∞—Ä–º–æ–Ω–∏–∏.' },
        { id: 7, name: '–ö–æ–ª–µ—Å–Ω–∏—Ü–∞', emoji: 'üèá', keywords: '–ø–æ–±–µ–¥–∞, –∫–æ–Ω—Ç—Ä–æ–ª—å, –¥–≤–∏–∂–µ–Ω–∏–µ –≤–ø–µ—Ä–µ–¥', meaning: '–î–≤–∏–≥–∞–π—Ç–µ—Å—å –≤–ø–µ—Ä–µ–¥ —Å —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å—é –∏ —Ä–µ—à–∏–º–æ—Å—Ç—å—é. –ü–æ–±–µ–¥–∞ –±–ª–∏–∑–∫–∞!' },
        { id: 8, name: '–°–∏–ª–∞', emoji: 'ü¶Å', keywords: '–º—É–∂–µ—Å—Ç–≤–æ, —Ç–µ—Ä–ø–µ–Ω–∏–µ, –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —Å–∏–ª–∞', meaning: '–ò—Å—Ç–∏–Ω–Ω–∞—è —Å–∏–ª–∞ –≤ –º—è–≥–∫–æ—Å—Ç–∏. –ü–æ–±–µ–∂–¥–∞–π—Ç–µ –ª—é–±–æ–≤—å—é, —Ç–µ—Ä–ø–µ–Ω–∏–µ–º –∏ —Å–æ—Å—Ç—Ä–∞–¥–∞–Ω–∏–µ–º.' },
        { id: 9, name: '–û—Ç—à–µ–ª—å–Ω–∏–∫', emoji: 'üïØÔ∏è', keywords: '–æ–¥–∏–Ω–æ—á–µ—Å—Ç–≤–æ, –ø–æ–∏—Å–∫ –∏—Å—Ç–∏–Ω—ã, –º—É–¥—Ä–æ—Å—Ç—å', meaning: '–í—Ä–µ–º—è –¥–ª—è —Å–∞–º–æ–ø–æ–∑–Ω–∞–Ω–∏—è –∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —Ä–∞–±–æ—Ç—ã. –£–µ–¥–∏–Ω–µ–Ω–∏–µ –ø—Ä–∏–Ω–µ—Å–µ—Ç —è—Å–Ω–æ—Å—Ç—å.' },
        { id: 10, name: '–ö–æ–ª–µ—Å–æ –§–æ—Ä—Ç—É–Ω—ã', emoji: 'üé°', keywords: '—Å—É–¥—å–±–∞, –∏–∑–º–µ–Ω–µ–Ω–∏—è, —Ü–∏–∫–ª—ã', meaning: '–ü–µ—Ä–µ–º–µ–Ω—ã –Ω–µ–∏–∑–±–µ–∂–Ω—ã. –ü—Ä–∏–Ω–∏–º–∞–π—Ç–µ –∏—Ö —Å –æ—Ç–∫—Ä—ã—Ç—ã–º —Å–µ—Ä–¥—Ü–µ–º - –∫–æ–ª–µ—Å–æ —Å—É–¥—å–±—ã –ø–æ–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç—Å—è.' },
        { id: 11, name: '–°–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ—Å—Ç—å', emoji: '‚öñÔ∏è', keywords: '–±–∞–ª–∞–Ω—Å, –∏—Å—Ç–∏–Ω–∞, –∫–∞—Ä–º–∞', meaning: '–°–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ—Å—Ç—å –≤–æ—Å—Ç–æ—Ä–∂–µ—Å—Ç–≤—É–µ—Ç. –ë—É–¥—å—Ç–µ —á–µ—Å—Ç–Ω—ã –∏ –æ–±—ä–µ–∫—Ç–∏–≤–Ω—ã –≤ —Å–≤–æ–∏—Ö –¥–µ–π—Å—Ç–≤–∏—è—Ö.' },
        { id: 12, name: '–ü–æ–≤–µ—à–µ–Ω–Ω—ã–π', emoji: 'üôÉ', keywords: '–∂–µ—Ä—Ç–≤–∞, –Ω–æ–≤–∞—è –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤–∞, –ø–∞—É–∑–∞', meaning: '–°–º–µ–Ω–∏—Ç–µ —É–≥–æ–ª –∑—Ä–µ–Ω–∏—è. –ò–Ω–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –æ—Ç–ø—É—Å—Ç–∏—Ç—å, —á—Ç–æ–±—ã –¥–≤–∏–≥–∞—Ç—å—Å—è –¥–∞–ª—å—à–µ.' },
        { id: 13, name: '–°–º–µ—Ä—Ç—å', emoji: 'üíÄ', keywords: '—Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è, –æ–∫–æ–Ω—á–∞–Ω–∏–µ, –Ω–æ–≤–æ–µ –Ω–∞—á–∞–ª–æ', meaning: '–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Å—Ç–∞—Ä–æ–≥–æ —Ü–∏–∫–ª–∞ –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç –º–µ—Å—Ç–æ –¥–ª—è –Ω–æ–≤–æ–≥–æ. –ü—Ä–∏–º–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω—ã.' },
        { id: 14, name: '–£–º–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å', emoji: 'üßò', keywords: '–±–∞–ª–∞–Ω—Å, —Ç–µ—Ä–ø–µ–Ω–∏–µ, —É–º–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å', meaning: '–ù–∞–π–¥–∏—Ç–µ –∑–æ–ª–æ—Ç—É—é —Å–µ—Ä–µ–¥–∏–Ω—É. –ò–∑–±–µ–≥–∞–π—Ç–µ –∫—Ä–∞–π–Ω–æ—Å—Ç–µ–π –∏ –¥–µ–π—Å—Ç–≤—É–π—Ç–µ –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ.' },
        { id: 15, name: '–î—å—è–≤–æ–ª', emoji: 'üòà', keywords: '–∏—Å–∫—É—à–µ–Ω–∏–µ, –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å, –º–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–º', meaning: '–û—Å–≤–æ–±–æ–¥–∏—Ç–µ—Å—å –æ—Ç —Ç–æ–≥–æ, —á—Ç–æ –≤–∞—Å —Å–¥–µ—Ä–∂–∏–≤–∞–µ—Ç. –û—Å–æ–∑–Ω–∞–π—Ç–µ —Å–≤–æ–∏ –ø—Ä–∏–≤—è–∑–∞–Ω–Ω–æ—Å—Ç–∏.' },
        { id: 16, name: '–ë–∞—à–Ω—è', emoji: 'üè∞', keywords: '—Ä–∞–∑—Ä—É—à–µ–Ω–∏–µ, –≤–Ω–µ–∑–∞–ø–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω—ã, –æ—Ç–∫—Ä–æ–≤–µ–Ω–∏–µ', meaning: '–†–∞–∑—Ä—É—à–µ–Ω–∏–µ –∏–ª–ª—é–∑–∏–π –ø—Ä–∏–≤–µ–¥–µ—Ç –∫ –∏—Å—Ç–∏–Ω–µ. –ò–∑ —Ö–∞–æ—Å–∞ —Ä–æ–∂–¥–∞–µ—Ç—Å—è –Ω–æ–≤–æ–µ.' },
        { id: 17, name: '–ó–≤–µ–∑–¥–∞', emoji: '‚≠ê', keywords: '–Ω–∞–¥–µ–∂–¥–∞, –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ, –∏—Å—Ü–µ–ª–µ–Ω–∏–µ', meaning: '–ù–∞–¥–µ–∂–¥–∞ –∏ –∏—Å—Ü–µ–ª–µ–Ω–∏–µ —É–∂–µ –≤ –ø—É—Ç–∏ –∫ –≤–∞–º. –í–µ—Ä—å—Ç–µ –≤ –ª—É—á—à–µ–µ.' },
        { id: 18, name: '–õ—É–Ω–∞', emoji: 'üåô', keywords: '–∏–ª–ª—é–∑–∏–∏, –ø–æ–¥—Å–æ–∑–Ω–∞–Ω–∏–µ, —Å—Ç—Ä–∞—Ö–∏', meaning: '–†–∞–∑–±–µ—Ä–∏—Ç–µ—Å—å —Å–æ —Å–≤–æ–∏–º–∏ —Å—Ç—Ä–∞—Ö–∞–º–∏ –∏ –∏–ª–ª—é–∑–∏—è–º–∏. –ù–µ –≤—Å—ë —Ç–æ, —á–µ–º –∫–∞–∂–µ—Ç—Å—è.' },
        { id: 19, name: '–°–æ–ª–Ω—Ü–µ', emoji: '‚òÄÔ∏è', keywords: '—Ä–∞–¥–æ—Å—Ç—å, —É—Å–ø–µ—Ö, –ø–æ–∑–∏—Ç–∏–≤', meaning: '–£—Å–ø–µ—Ö –∏ —Ä–∞–¥–æ—Å—Ç—å –æ—Å–≤–µ—â–∞—é—Ç –≤–∞—à –ø—É—Ç—å. –í—Ä–µ–º—è —Ç–æ—Ä–∂–µ—Å—Ç–≤–∞ –∏ —Å—á–∞—Å—Ç—å—è!' },
        { id: 20, name: '–°—É–¥', emoji: 'üìØ', keywords: '–≤–æ–∑—Ä–æ–∂–¥–µ–Ω–∏–µ, –ø—Ä–æ—â–µ–Ω–∏–µ, –ø—Ä–∏–∑–≤–∞–Ω–∏–µ', meaning: '–í—Ä–µ–º—è –ø—Ä–æ–±—É–∂–¥–µ–Ω–∏—è –∏ –Ω–æ–≤–æ–≥–æ –ø—Ä–∏–∑–≤–∞–Ω–∏—è. –ü—Ä–æ—Å—Ç–∏—Ç–µ –ø—Ä–æ—à–ª–æ–µ –∏ –¥–≤–∏–≥–∞–π—Ç–µ—Å—å –≤–ø–µ—Ä–µ–¥.' },
        { id: 21, name: '–ú–∏—Ä', emoji: 'üåç', keywords: '–∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ, –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ, —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å', meaning: '–í—ã –¥–æ—Å—Ç–∏–≥–ª–∏ –≤–∞–∂–Ω–æ–π —Ü–µ–ª–∏. –ù–∞—Å–ª–∞–∂–¥–∞–π—Ç–µ—Å—å –º–æ–º–µ–Ω—Ç–æ–º –∏ –æ—â—É—â–µ–Ω–∏–µ–º –∑–∞–≤–µ—Ä—à–µ–Ω–Ω–æ—Å—Ç–∏.' }
    ];
    
    // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
    let currentSpread = { type: '', count: 0, name: '', description: '' };
    let drawnCards = [];
    let history = JSON.parse(localStorage.getItem('tarotHistory') || '[]');
    
    // –§—É–Ω–∫—Ü–∏–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
    function goHome() {
        hideAllScreens();
        document.getElementById('home-screen').classList.remove('hidden');
    }
    
    function hideAllScreens() {
        document.querySelectorAll('[id$="-screen"]').forEach(screen => {
            screen.classList.add('hidden');
        });
    }
    
    function newReading() {
        goHome();
        document.getElementById('question-input').value = '';
    }
    
    // –í—ã–±–æ—Ä —Ä–∞—Å–∫–ª–∞–¥–∞
    function selectSpread(type, count, name, description) {
        currentSpread = { type, count, name, description };
        document.getElementById('spread-title').textContent = name;
        document.getElementById('spread-description').textContent = description;
        
        hideAllScreens();
        document.getElementById('question-screen').classList.remove('hidden');
    }
    
    // –í—ã—Ç—è–≥–∏–≤–∞–Ω–∏–µ –∫–∞—Ä—Ç —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π
    async function startDrawing() {
        const question = document.getElementById('question-input').value;
        
        hideAllScreens();
        document.getElementById('cards-screen').classList.remove('hidden');
        document.getElementById('result-title').textContent = currentSpread.name;
        
        // –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
        const container = document.getElementById('cards-container');
        container.innerHTML = '';
        
        // –°–æ–∑–¥–∞–µ–º –ø—É—Å—Ç—ã–µ –∫–∞—Ä—Ç—ã
        for (let i = 0; i < currentSpread.count; i++) {
            const cardDiv = document.createElement('div');
            cardDiv.className = 'tarot-card';
            cardDiv.id = `card-${i}`;
            cardDiv.textContent = 'üé¥';
            container.appendChild(cardDiv);
        }
        
        // –¢–∞—Å—É–µ–º –∫–æ–ª–æ–¥—É
        const shuffled = [...tarotCards].sort(() => Math.random() - 0.5);
        drawnCards = shuffled.slice(0, currentSpread.count);
        
        // –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è –∫–∞—Ä—Ç
        for (let i = 0; i < drawnCards.length; i++) {
            await new Promise(resolve => setTimeout(resolve, 800));
            const cardDiv = document.getElementById(`card-${i}`);
            cardDiv.textContent = drawnCards[i].emoji;
            cardDiv.classList.add('drawn');
        }
        
        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–∞—Ä—Ç–∞—Ö
        await new Promise(resolve => setTimeout(resolve, 500));
        displayCardsInfo();
        
        // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Ç–æ–ª–∫–æ–≤–∞–Ω–∏–µ
        await new Promise(resolve => setTimeout(resolve, 300));
        generateInterpretation(question);
        
        // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ –∏—Å—Ç–æ—Ä–∏—é
        saveToHistory(question);
    }
    
    // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–∞—Ä—Ç–∞—Ö
    function displayCardsInfo() {
        const infoContainer = document.getElementById('cards-info');
        infoContainer.innerHTML = `
            <div class="card">
                ${drawnCards.map(card => `
                    <div class="card-info">
                        <div class="card-name">${card.emoji} ${card.name}</div>
                        <div class="card-keywords">${card.keywords}</div>
                    </div>
                `).join('')}
            </div>
        `;
    }
    
    // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–æ–ª–∫–æ–≤–∞–Ω–∏—è
    function generateInterpretation(question) {
        const positions = {
            'daily': ['–ö–∞—Ä—Ç–∞ –¥–Ω—è'],
            'three': ['–ü—Ä–æ—à–ª–æ–µ', '–ù–∞—Å—Ç–æ—è—â–µ–µ', '–ë—É–¥—É—â–µ–µ'],
            'love': ['–í—ã', '–ü–∞—Ä—Ç–Ω–µ—Ä', '–û—Ç–Ω–æ—à–µ–Ω–∏—è'],
            'career': ['–¢–µ–∫—É—â–∞—è —Å–∏—Ç—É–∞—Ü–∏—è', '–ü—Ä–µ–ø—è—Ç—Å—Ç–≤–∏—è', '–°–æ–≤–µ—Ç'],
            'finance': ['–î–æ—Ö–æ–¥—ã', '–†–∞—Å—Ö–æ–¥—ã', '–°–æ–≤–µ—Ç']
        };
        
        const currentPositions = positions[currentSpread.type] || ['–ö–∞—Ä—Ç–∞'];
        
        let interpretation = '<div class="card"><h3 style="margin-bottom: 20px; font-size: 20px;">‚ú® –¢–æ–ª–∫–æ–≤–∞–Ω–∏–µ —Ä–∞—Å–∫–ª–∞–¥–∞</h3><div class="interpretation">';
        
        if (question) {
            interpretation += `<p><strong>–í–∞—à –≤–æ–ø—Ä–æ—Å:</strong> ${question}</p>`;
        }
        
        interpretation += '<p>üîÆ <strong>–ö–∞—Ä—Ç—ã —Ä–∞—Å–∫—Ä—ã–≤–∞—é—Ç:</strong></p>';
        
        drawnCards.forEach((card, index) => {
            const position = currentPositions[index] || `–ü–æ–∑–∏—Ü–∏—è ${index + 1}`;
            interpretation += `
                <p><strong>${card.emoji} ${card.name}</strong> (${position})<br>
                ${card.meaning}</p>
            `;
        });
        
        // –û–±—â–∏–π —Å–æ–≤–µ—Ç
        interpretation += getGeneralAdvice();
        
        interpretation += '</div></div>';
        
        document.getElementById('interpretation-container').innerHTML = interpretation;
    }
    
    // –û–±—â–∏–π —Å–æ–≤–µ—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–∞—Ä—Ç
    function getGeneralAdvice() {
        const advice = [
            '<p><strong>üí´ –û–±—â–∏–π —Å–æ–≤–µ—Ç:</strong> –ö–∞—Ä—Ç—ã —É–∫–∞–∑—ã–≤–∞—é—Ç –Ω–∞ –≤–∞–∂–Ω—ã–π –º–æ–º–µ–Ω—Ç –≤ –≤–∞—à–µ–π –∂–∏–∑–Ω–∏. –ü—Ä–∏—Å–ª—É—à–∞–π—Ç–µ—Å—å –∫ –∏—Ö –ø–æ—Å–ª–∞–Ω–∏—é –∏ –¥–µ–π—Å—Ç–≤—É–π—Ç–µ –º—É–¥—Ä–æ.</p>',
            '<p><strong>üí´ –û–±—â–∏–π —Å–æ–≤–µ—Ç:</strong> –î–æ–≤–µ—Ä—è–π—Ç–µ —Å–≤–æ–µ–π –∏–Ω—Ç—É–∏—Ü–∏–∏ –∏ –±—É–¥—å—Ç–µ –æ—Ç–∫—Ä—ã—Ç—ã –ø–µ—Ä–µ–º–µ–Ω–∞–º, –∫–æ—Ç–æ—Ä—ã–µ –∫–∞—Ä—Ç—ã –ø—Ä–µ–¥–≤–µ—â–∞—é—Ç.</p>',
            '<p><strong>üí´ –û–±—â–∏–π —Å–æ–≤–µ—Ç:</strong> –≠–Ω–µ—Ä–≥–∏—è —ç—Ç–∏—Ö –∫–∞—Ä—Ç –Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç –≤–∞—Å –∫ —Ä–æ—Å—Ç—É –∏ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏. –ü—Ä–∏–º–∏—Ç–µ –∏—Ö –ø–æ—Å–ª–∞–Ω–∏–µ —Å –æ—Ç–∫—Ä—ã—Ç—ã–º —Å–µ—Ä–¥—Ü–µ–º.</p>',
            '<p><strong>üí´ –û–±—â–∏–π —Å–æ–≤–µ—Ç:</strong> –í—Å–µ–ª–µ–Ω–Ω–∞—è –ø–æ—Å—ã–ª–∞–µ—Ç –≤–∞–º –∑–Ω–∞–∫–∏ —á–µ—Ä–µ–∑ —ç—Ç–∏ –∫–∞—Ä—Ç—ã. –í–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ –æ—Ç–Ω–µ—Å–∏—Ç–µ—Å—å –∫ –∏—Ö –∑–Ω–∞—á–µ–Ω–∏—é.</p>'
        ];
        
        return advice[Math.floor(Math.random() * advice.length)];
    }
    
    // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –∏—Å—Ç–æ—Ä–∏—é
    function saveToHistory(question) {
        const reading = {
            id: Date.now(),
            date: new Date().toISOString(),
            spreadType: currentSpread.type,
            spreadName: currentSpread.name,
            question: question,
            cards: drawnCards.map(c => ({ emoji: c.emoji, name: c.name }))
        };
        
        history.unshift(reading);
        history = history.slice(0, 20); // –•—Ä–∞–Ω–∏–º —Ç–æ–ª—å–∫–æ 20 –ø–æ—Å–ª–µ–¥–Ω–∏—Ö
        localStorage.setItem('tarotHistory', JSON.stringify(history));
    }
    
    // –ü–æ–∫–∞–∑–∞—Ç—å –∏—Å—Ç–æ—Ä–∏—é
    function showHistory() {
        hideAllScreens();
        document.getElementById('history-screen').classList.remove('hidden');
        
        const historyList = document.getElementById('history-list');
        
        if (history.length === 0) {
            historyList.innerHTML = `
                <div class="card">
                    <div class="empty-state">
                        <div class="empty-state-icon">üìú</div>
                        <div class="empty-state-text">–ü–æ–∫–∞ –Ω–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö —Ä–∞—Å–∫–ª–∞–¥–æ–≤</div>
                    </div>
                </div>
            `;
            return;
        }
        
        historyList.innerHTML = history.map(reading => {
            const date = new Date(reading.date);
            const dateStr = date.toLocaleDateString('ru-RU', { 
                day: 'numeric', 
                month: 'long',
                hour: '2-digit',
                minute: '2-digit'
            });
            
            return `
                <div class="history-item">
                    <div class="history-header">
                        <div class="history-spread">${reading.spreadName}</div>
                        <div class="history-date">${dateStr}</div>
                    </div>
                    <div class="history-cards">
                        ${reading.cards.map(c => c.emoji).join(' ')}
                    </div>
                    ${reading.question ? `
                        <div class="history-question">"${reading.question}"</div>
                    ` : ''}
                </div>
            `;
        }).join('');
    }
    
    // –ü–æ–∫–∞–∑–∞—Ç—å –æ–±—É—á–µ–Ω–∏–µ
    function showLearn() {
        hideAllScreens();
        document.getElementById('learn-screen').classList.remove('hidden');
        
        const learnList = document.getElementById('learn-list');
        learnList.innerHTML = tarotCards.map(card => `
            <div class="learn-item">
                <div class="learn-emoji">${card.emoji}</div>
                <div class="learn-info">
                    <div class="learn-name">${card.name}</div>
                    <div class="learn-keywords">${card.keywords}</div>
                </div>
            </div>
        `).join('');
    }
</script>
```

</body>
</html>